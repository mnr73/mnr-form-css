@use 'extends';
@import "../../color";

.mnrf-check-slider{
    @extend %box;
    -webkit-tap-highlight-color: rgba(255,255,255,0);
    &,& *:not(svg),& *::after,& *::before{
		@extend %transition;
	}
    .sub-box{
        @extend %sub-box;
        @extend %round-corner;
        @extend %slider-sub-box-md;
        padding: 1px;
        .sub-check{
            @extend %insider;
            @extend %slider-inside;
            padding-top: 55%;
            &::before{
                // transition: all .3s;
                content: "";
                display: block;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                // opacity: 20%;
                width: 0%;
                height: 0%;
                z-index: 1;
                border-radius: 1000px;
            }
        }
    }
    input{
        @extend %display-none;
        @media (pointer: fine){
            &:hover:enabled + .sub-box {
                .sub-check{
                    &::before {
                        width: 210%;
                        height: 210%;
                    }
                }
            }
        }
        &:checked{
            &+.sub-box{
                .sub-check{
                    left: calc(45% - 1px);
                    &::before {
                        animation: sliderCheckAnimate .4s;
                    }
                }
            }
        }
        &:disabled{
            &+.sub-box{
                background-color: white;
            }
            &~*{
                @extend %no-drap;
            }
        }
    }
    
    &.opt-sm{
        .sub-box{
            @extend %slider-sub-box-sm;
        }
    }
    &.opt-md{
        .sub-box{
            @extend %slider-sub-box-md;
        }
    }
    &.opt-lg{
        .sub-box{
            @extend %slider-sub-box-lg;
        }
    }
    &.opt-em{
        .sub-box{
            @extend %slider-sub-box-em;
        }
    }
    &.opt-block{
        @extend %opt-block;
    }
}

.mnrf-radio-slider{
    @extend %box;
    -webkit-tap-highlight-color: rgba(255,255,255,0);
    &,& *:not(svg),& *::after,& *::before{
		@extend %transition;
	}
    .sub-box{
        @extend %sub-box;
        // border-color: $tw-lightBlue-400;
        @extend %round-corner;
        @extend %slider-sub-box-md;
        padding: 1px;
        .sub-check{
            @extend %insider;
            @extend %slider-inside;
            // border-color: $tw-lightBlue-400;
            border-width: 4px;
            border-style: solid;
            box-sizing: border-box;
            padding-top: calc(55% - 8px);
            &::before{
                // transition: all .3s;
                content: "";
                display: block;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                // opacity: 20%;
                width: 0%;
                height: 0%;
                z-index: 1;
                border-radius: 1000px;
            }
        }
    }
    input{
        @extend %display-none;
        @media (pointer: fine){
            &:hover:enabled + .sub-box {
                .sub-check{
                    &::before {
                        width: 420%;
                        height: 420%;
                    }
                }
            }
        }
        &:checked{
            &+.sub-box{
                .sub-check{
                    left: calc(45% - 1px);
                    &::before {
                        animation: sliderRadioAnimate .4s;
                    }
                }
            }
        }
        &:disabled{
            &+.sub-box{
                background-color: white;
            }
            &~*{
                @extend %no-drap;
            }
        }
    }
    
    &.opt-sm{
        .sub-box{
            @extend %slider-sub-box-sm;
        }
    }
    &.opt-md{
        .sub-box{
            @extend %slider-sub-box-md;
        }
    }
    &.opt-lg{
        .sub-box{
            @extend %slider-sub-box-lg;
        }
    }
    &.opt-em{
        .sub-box{
            @extend %slider-sub-box-em;
        }
    }
    &.opt-block{
        @extend %opt-block;
    }
}

@keyframes sliderCheckAnimate {
	from {
		opacity: 1;
		width: 0;
		height: 0;
	}
	to {
		opacity: .7;
		width: 220%;
		height: 220%;
	}
}

@keyframes sliderRadioAnimate {
	from {
		opacity: 1;
		width: 0;
		height: 0;
	}
	to {
		opacity: .7;
		width: 440%;
		height: 440%;
	}
}

$colors: (
"main": "lightBlue",
"red": "red",
"yellow": "yellow",
"green": "emerald",
);



@each $name, $color in ($colors) {
    $className : '.mnrf-check-slider.color-#{$name}';
    @if $name == 'main' {
        $className : '.mnrf-check-slider';
    }
    #{$className}{
        .sub-box{
            // border-color: $tw-lightBlue-400;
            @extend %tw-border-#{$color}-400;
            .sub-check{
                // background-color: $tw-lightBlue-400;
                @extend %tw-bg-#{$color}-400;
            }
        }
        input{
            @media (pointer: fine){
                &:hover:enabled+.sub-box{
                    // border-color: $tw-lightBlue-500;
                    // @extend %tw-border-#{$color}-500;
                    border-color: map-get(map-get($tw_colors, #{$color}), 500);
                    // background-color: $tw-lightBlue-100;
                    // @extend %tw-bg-#{$color}-100;
                    background-color: map-get(map-get($tw_colors, #{$color}), 100);
                    .sub-check{
                        // background-color: $tw-lightBlue-500;
                        // @extend %tw-bg-#{$color}-500;
                        background-color: map-get(map-get($tw_colors, #{$color}), 500);
                        // &::before {
                        //     // @extend %tw-bg-#{$color}-500;
                        //     background-color: rgba(
                        //         $color: map-get(map-get($tw_colors, #{$color}), 500),
                        //         $alpha: 0.3
                        //     );
                        // }
                        // box-shadow: 0 0 0 .7em rgba($color: map-get(map-get($tw_colors,#{$color}), 500 ), $alpha: .3);
                    }
                }
            }
            &:enabled+.sub-box{
                .sub-check{
                    // background-color: $tw-lightBlue-500;
                    // @extend %tw-bg-#{$color}-500;
                    &::before {
                        // @extend %tw-bg-#{$color}-500;
                        background-color: rgba(
                            $color: map-get(map-get($tw_colors, #{$color}), 500),
                            $alpha: 0.3
                        );
                    }
                    // box-shadow: 0 0 0 .7em rgba($color: map-get(map-get($tw_colors,#{$color}), 500 ), $alpha: .3);
                }
            }
            &:checked:enabled{
                &+.sub-box{
                    // border-color: $tw-lightBlue-600;
                    @extend %tw-border-#{$color}-600;
                    // background-color: $tw-lightBlue-300;
                    @extend %tw-bg-#{$color}-300;
                    .sub-check{
                        // background-color: $tw-lightBlue-600;
                        @extend %tw-bg-#{$color}-600;
                    }
                }
            }
            &:disabled{
                &+.sub-box{
                    // border-color: $tw-lightBlue-200;
                    @extend %tw-border-#{$color}-200;
                    .sub-check{
                        // background-color: $tw-lightBlue-200;
                        @extend %tw-bg-#{$color}-200;
                    }
                }
                &:checked+.sub-box{
                    // background-color: $tw-lightBlue-100;
                    @extend %tw-bg-#{$color}-100;
                    .sub-check{
                        // background-color: $tw-lightBlue-400;
                        @extend %tw-bg-#{$color}-400;
                    }
                }
            }
        }
    }

    $className : '.mnrf-radio-slider.color-#{$name}';
    @if $name == 'main' {
        $className : '.mnrf-radio-slider';
    }
    #{$className}{
        .sub-box{
            // border-color: $tw-lightBlue-400;
            @extend %tw-border-#{$color}-400;
            .sub-check{
                // border-color: $tw-lightBlue-400;
                @extend %tw-border-#{$color}-400;
            }
        }
        input{
            @media (pointer: fine){
                &:hover:enabled+.sub-box{
                    // border-color: $tw-lightBlue-500;
                    // @extend %tw-border-#{$color}-500;
                    border-color: map-get(map-get($tw_colors, #{$color}), 500);
                    // background-color: $tw-lightBlue-100;
                    // @extend %tw-bg-#{$color}-100;
                    background-color: map-get(map-get($tw_colors, #{$color}), 100);
                    .sub-check{
                        // border-color: $tw-lightBlue-500;
                        // @extend %tw-border-#{$color}-500;
                        border-color: map-get(map-get($tw_colors, #{$color}), 500);
                        // box-shadow: 0 0 0 .7em rgba($color: map-get(map-get($tw_colors,#{$color}), 500 ), $alpha: .3);
                        // &::before {
                        //     // @extend %tw-bg-#{$color}-500;
                        //     background-color: rgba(
                        //         $color: map-get(map-get($tw_colors, #{$color}), 500),
                        //         $alpha: 0.3
                        //     );
                        // }
                    }
                }
            }
            &:enabled+.sub-box{
                .sub-check{
                    &::before {
                        // @extend %tw-bg-#{$color}-500;
                        background-color: rgba(
                            $color: map-get(map-get($tw_colors, #{$color}), 500),
                            $alpha: 0.3
                        );
                    }
                }
            }
            &:checked:enabled{
                &+.sub-box{
                    // border-color: $tw-lightBlue-600;
                    @extend %tw-border-#{$color}-600;
                    // background-color: $tw-lightBlue-300;
                    @extend %tw-bg-#{$color}-300;
                    .sub-check{
                        // border-color: $tw-lightBlue-600;
                        @extend %tw-border-#{$color}-600;
                    }
                }
            }
            &:disabled{
                &+.sub-box{
                    // border-color: $tw-lightBlue-200;
                    @extend %tw-border-#{$color}-200;
                    .sub-check{
                        // border-color: $tw-lightBlue-200;
                        @extend %tw-border-#{$color}-200;
                    }
                }
                &:checked+.sub-box{
                    // background-color: $tw-lightBlue-100;
                    @extend %tw-bg-#{$color}-100;
                    .sub-check{
                        // border-color: $tw-lightBlue-400;
                        @extend %tw-border-#{$color}-400;
                    }
                }
            }
        }
    }
}